#!/bin/bash

for arg in "$@"; do
    if [[ "$arg" == "-h" || "$arg" == "--help" ]]; then
        echo "Usage: dc [docker compose arguments]"
        exit 0
    fi
done

# Si la commande est exactement "up"
if [[ "$1" == "up" ]] && [[ -f "Dockerfile" ]]; then
    echo "Dockerfile détecté, build automatique..."
    docker compose build
fi

docker compose "$@"
